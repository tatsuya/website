---
layout: post
title: BasecampのShape Upを実践してみた
date: 2021-01-04 01:13
published: false
author: Tatsuya Oiwa
tags: [Japanese]
---

[Basecamp](https://basecamp.com/)というプロジェクト管理のためのソフトウェアサービスを提供している会社がある。つい最近、[HEY](https://hey.com/)というEmailのアプリも登場した。Basecampの前身は[37signals](https://37signals.com/)という会社で「小さなチーム、大きな仕事」（原著は「[Getting Real](https://basecamp.com/gettingreal)」）という書籍の著者である[Jason Fried](https://twitter.com/jasonfried)と[David Heinemeier Hansson (DHH)](https://twitter.com/dhh)が在籍していることでも知られている。

そのBasecampが2019年に新たに公開したプロダクト開発メソッドが[Shape Up](https://basecamp.com/shapeup)だ。Shape Upがどういったメソッドなのかについては、英語の[原文](https://basecamp.com/shapeup)が無料で公開されているのでそちらを読むのが良い。BasecampのCTOで（Ruby on Railsの作者でも）ある[DHHのツイート](https://twitter.com/dhh/status/1148963942116597766)をベースにShape Upを3行でまとめると、次のようなものだ。

- Basecampが自社のソフトウェア開発で採用している。
- 6週間の開発サイクル、見積もりではなく予算、タスクではなくプロジェクト。
- 罪悪感を感じるバックログや永遠に続くスプリント、進捗確認のための会議の放棄。

## Shape Upをやってみた

私は現在、[Quartz](https://qz.com/)というオンラインメディアを運営する会社に所属しており、Quartzのウェブサイトやアプリ、ニュースレターなどのサービス開発に携わっている。Quartzでは2020年の初めからプロダクトの開発にShape Upを導入しており、これまで約1年間にわたって数多くのプロジェクトをShape Upのフレームワークに沿って実践してきた。この記事では、私がShape Upで実際に開発に携わったプロジェクトを例に、Shape Upがどういうメソッドで、それが実際のプロダクト開発にどう影響を及ぼしたのかについて共有したい。

## Shaping

Shape Upではまずプロジェクトを開始するときにプロジェクトを**Shape**（形作る）ことから始める。このプロセスでは問題を定義し、解決策となるアイデアをラフスケッチとともにまとめる。ウォーターフォールモデルでいう要件定義、スクラムでいうユーザーストーリーの作成に相当する作業だ。

Shapingのプロセスの詳細は[Part 1: Shaping](https://basecamp.com/shapeup/1.1-chapter-02)にまとまっている。その中でも私がユニークだと感じた点は**適切な抽象化**と**Appetiteの設定**である。

**適切な抽象化**とは、プロジェクトの内容を具体的過ぎず、抽象的過ぎない、ちょうどいいレベルで定義することである。Shape Upの言葉を借りれば、ワイヤーフレームは具体的すぎる（Wireframes are too concrete）が、言葉だけだと抽象的すぎる（Words are too abstract）、その中間くらいということだ。抽象化に関する細かなテクニックについてはぜひ原文を読んでみてほしい。

**Appetiteの設定**は翻訳するのが難しいが、直訳すると欲望の設定となる。これは文脈によっては時間的予算と読み換えることもできる。ウォーターフォールやスクラムでいう見積もり（Estimates）がある問題を解決するのに**どれだけの時間がかかるのか**を推定するのに対し、Appetiteはその問題を解決するのに**どれだけの時間をかけたいか**を決めることに焦点を置く。

AppetiteはSmall BatchまたはBig Batchのいずれかを設定し、その大小によって3週間または6週間の開発期間を割り当てる。この連続した3週間または6週間（**Six-week cycles**）という期間もまた、Shape Upを特徴づけるひとつの要素である。

Shapingのプロセスにおける最終成果は**Pitch**と呼ばれるドキュメントである。Pitchはスタートアップピッチやエレベーターピッチのような言葉に連想されるように、問題やAppetite、解決策などをフォーマット化したドキュメントのようなものだ。なおQuartzでは社内の誰もが、プロダクトマネージャーらの協力を得て、Pitchを書くことが推奨されている。

## Betting

社内から集められたPitchは、**Betting Table**と呼ばれる、CEOを含むC-レベルの社員とプロダクトチームの代表者による会議の場にかけられる。Betting Tableとはその名が示す通り、会社としてどのプロジェクトに**Bet**（賭ける）するかを決める場である。Betting TableでPitchが承認されるとBetとなり、各Betには開発者やデザイナーなど必要なメンバーがアサインされ、プロジェクト化される。

## Building

ひとたびプロジェクトが開始すると、プロジェクトの詳細な決定権はそこにアサインされたメンバーに完全に委ねられる。たいていの場合は初日にキックオフ会議を行った後、各メンバーは1日から数日かけてBetの内容を精査し、プロジェクトを実際にどのように進めるかについて話し合う。このプロダクトの設計、開発、テスト、ローンチを実施するプロセスの詳細は[Part 3: Building](https://basecamp.com/shapeup/3.1-chapter-10)の章に書かれている。

## プロジェクトの具体例

ここまでShape Upについて簡単に要約したが、ここからは私が実際に携わったプロジェクトの中から印象的だったものをひとつ共有したい。ちょうどパンデミック発生直後の2020年4月ごろに開発していた、インタラクティブなニュースコンテンツの開発プロジェクトだ。

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Last week we launched polls and quizzes on the <a href="https://twitter.com/qz?ref_src=twsrc%5Etfw">@qz</a> home feed 🗳✅<br><br>The best part: we designed and built this from scratch for Android, iOS and web in six weeks as part of the Shape Up process from <a href="https://twitter.com/basecamp?ref_src=twsrc%5Etfw">@basecamp</a> 🚀 <a href="https://t.co/p3pmZKlfZz">pic.twitter.com/p3pmZKlfZz</a></p>&mdash; James Shakespeare (@jeshake) <a href="https://twitter.com/jeshake/status/1255547872755552258?ref_src=twsrc%5Etfw">April 29, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

この機能は、読者がウェブサイト上のニュースに関する質問に回答すると、その回答に応じたニュースコンテンツがおすすめされる、というものである。

私はプロジェクトのバックエンドを担当する開発者としてアサインされた。プロジェクトはR&D的な位置付けで、AppetiteはSmall Batchだ。

## ニュースコンテンツのバックエンド

この機能を仮に**投票機能**と呼ぶ。投票機能はトップページのニュースコンテンツの一部として、Webとアプリの両方で使えることを期待されていた。

当時のQuartzのバックエンドシステムは、ニュースコンテンツを配信するCMSとしての[WordPress](https://wordpress.com/)に加え、トップページ用のコンテンツを編成するための独自の編成ツールを併用して運用していた。投票機能を新たに追加する場合、読者が実際に触れる部分のデザインに加え、バックエンドである編成ツールのデータモデルやAPI、さらに編集者向けのダッシュボードにも手を加えなければならない。

時間も開発リソースも限られている中で、よりシンプルな実装方法はないか探ることにした。

## WordPressのプラグイン

CMSにWordPressを利用していたので、WordPressのプラグインで似たようなものが既に利用できるのではないかと考えた。そこでまずは最初の数日を使って、既存のプラグインを調査、検証することにした。いくつか良さそうな候補をプロジェクトの他のメンバーと手分けしてひとつずつ確認していったのだが、残念ながら私たちの要求に見合うものは無さそうだった。

プラグインを新たに自社で開発する、という選択肢を残しつつ、また別の方法を検討することとなった。

## Google Sheets

メンバーの一人がとても面白いアイデアを提案してきた。[Google Sheets](https://www.google.com/sheets/about/)をデータベースを使ってはどうか、というものだった。

既存のWordPressのプラグインでは足りなかった項目も、スプレッドシートなら自由に定義、拡張できる。[Google Sheets API](https://developers.google.com/sheets/api)を使えばフロントエンドから直接コンテンツを読み込めるし、基本的なバリデーションさえ設定すれば編集者は直接スプレッドシートのコンテンツを書き換えることもできる、まさに斜め上の解決策だ。おそらくこのような提案は、Appetiteによる時間的な制約が無ければ検討すらされなかっただろう。

早速スプレッドシートに必要なカラムとダミーデータを入れつつ、GraphQLのスキーマを定義した。スキーマを早い段階で定義しておくと、その時点からフロントエンドとバックエンドが並行して開発に取り組めるので時間を短縮できる。フロントエンドがデザイナーと細かなインタラクションを詰めている間に、バックエンドはGoogle Sheetsに接続するための[Resolver](https://graphql.org/learn/execution/)を書き、だいたい1週間くらいでバックエンドからフロントエンドまでフルスタックのプロトタイプが完成した。Shape Upではプロダクトの開発フェーズにおいても有用なテクニックが多数紹介されているが、その中の一つ[Get One Piece Done](https://basecamp.com/shapeup/3.2-chapter-11)（最初のピースを完成させる）をこのプロジェクトでは意識的に実践した。

最初のバージョンが完成した後は、細かなデザインの調整や、バックエンドのパフォーマンス改善、リファクタリング等を行い、無事期間内に最終盤をローンチすることができた。

## まとめ

私たちにとって投票機能のプロジェクトは決して技術的に難易度の高いものではなかった。いっぽうでShape Upを忠実に実践し、結果的によりクリエイティブな解決策を探し求めることができた点は新たな学びとなった。

また、同時期にパンデミックの影響で基幹となる事業が大打撃を受けており、その結果私たちが開発した投票機能は大掛かりな事業整理とともにすぐにクローズされることとなった。まったく予想外な終わり方ではあったものの、開発する機能の重要度や期待されるライフサイクルの長さによってAppetiteを戦略的に割り振ることで、過度に機能を作り込み過ぎてしまうといったアンチパターンを避けることができる。こうした判断を各自がなんとなく勘や経験をもとに下すのではなく、メソッドの一部としてシステマティックに実施できるのはShape Upのようなフレームワークを導入するメリットであると感じた。

Shape Upがあらゆるサービスや組織にとっての最適解でないことは言うまでもない。ある組織にとっては6週間の開発サイクルは長すぎるかもしれないし、また別の組織にとっては開発者やデザイナーの自由度が高すぎるのを心地よく思わないかもしれない。それにShape UpはC-レベルの意思決定層の合意を得ることが必須なので、組織を説得するハードルが非常に高いという点も見逃せない。

Shape Upはウォーターフォールやスクラムなどのモデルと比較するとまだまだ認知度が低く実践例も少ないと思うが、個人的には1年やってみて色々な発見や気づきがあった。もしShape Upに興味がある、Shape Upを導入している、という個人や会社があればぜひ体験を共有してみたい。この記事がそのきっかけとなれば幸いだ。
